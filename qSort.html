<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
        // parametrisation: arrayToSort[n] - contains series of n numbers to be sorted
        // lowerIndex, higherIndex, pivotPoint - indexes of appropriate cell of array
        // 
        // base of recursion: empty sequens or one element
        // decomposition: arrayToSort[0]..arrayToSort[pivotPoint-1] < arrayToSort[pivotPoint] < arrayToSort[pivotPoint+1]..arrayToSort[n]
        var arr = [55, 43, 23, 7, 1, 24, 90, 76, 89, 21, 64, 32, 5, 18, 77];
        alert(arr);
        qSort(arr);
        alert(arr);

        function qSort(arrayToSort){
            var lowerIndex = 0;
            var higherIndex = arrayToSort.length - 1;
            function findPivotElement(first, last){
                return Math.round((first + last)/2);
            }
            function switchElements(a, b){
                var pocket;
                pocket = arrayToSort[b];
                arrayToSort[b] = arrayToSort[a];
                arrayToSort[a] = pocket;
                return;
            }
            Sort (lowerIndex, higherIndex);
            function Sort (i, k){
                var p = findPivotElement(i, k);
                var savedI = i;
                var savedK = k;
                while (i < k){
                    while (arrayToSort[i] < arrayToSort[p]) i++;
                    while (arrayToSort[k] > arrayToSort[p]) k-=1;
                    if (i>=k) {
                        break;
                        }
                    if (i < k) {
                        if (i==p) {
                            switchElements(i, k);
                            p=k;
                        }else if (k==p) {
                            switchElements(i, k);
                            p=i;
                        }else {
                            switchElements(i, k);
                        }
                    }
                }
                if (savedI < p) Sort (savedI, p-1); 
                if (savedK > p) Sort (p+1, savedK);
                }
                return;
            }
     </script>
</body>
</html>